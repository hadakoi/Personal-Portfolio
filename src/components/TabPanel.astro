---
import EducationTimeline from './EducationTimeline.astro';
import ExperienceTimeline from './ExperienceTimeline.astro';
import AchievementsLedger from './AchievementsLedger.astro';
import ProjectsShowcase from './ProjectsShowcase.astro';
import ContactSection from './ContactSection.astro';

interface Tab {
  id: string;
  label: string;
  number: string;
  subtitle: string;
  content?: string;
  isContact?: boolean;
  isEducation?: boolean;
  isExperience?: boolean;
  isAchievements?: boolean;
  isProjects?: boolean;
}

interface Props {
  tabs: Tab[];
}

const { tabs } = Astro.props;
---

<nav
    class="right-panel"
    role="tablist"
    aria-label="Portfolio sections"
>
    {tabs.map((tab) => (
        <div
            class="tab"
            role="tab"
            id={`tab-${tab.id}`}
            aria-selected="false"
            aria-controls={`panel-${tab.id}`}
            tabindex="-1"
        >
            <span class="tab-label-vertical">{tab.label.toUpperCase()}</span>
            <span class="tab-number">{tab.number}</span>

            <div
                class="tab-content"
                role="tabpanel"
                id={`panel-${tab.id}`}
                aria-labelledby={`tab-${tab.id}`}
            >
                {!tab.isContact && (
                    <div style="text-align: center;">
                        <h2>{tab.label}</h2>
                        <p class="tab-subtitle">{tab.subtitle}</p>
                    </div>
                )}
                {tab.isContact ? (
                    <ContactSection />
                ) : tab.isProjects ? (
                    <ProjectsShowcase />
                ) : tab.isExperience ? (
                    <ExperienceTimeline />
                ) : tab.isEducation ? (
                    <EducationTimeline />
                ) : tab.isAchievements ? (
                    <AchievementsLedger />
                ) : (
                    <p class="coming-soon">{tab.content}</p>
                )}
            </div>
        </div>
    ))}
</nav>
